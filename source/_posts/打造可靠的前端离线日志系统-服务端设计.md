---
title: 打造可靠的前端离线日志系统-服务端设计
date: 2019-03-19 22:49:34
categories: JavaScript
tags:
- IndexedDB
---

上篇文章介绍了 IndexedDB 的用法和前端离线日志的架构，本篇讲述离线日志系统后端接口如何设计。

后端主要做三件事

1. 告诉前端是否上报离线日志。
2. 获取前端上报的离线日志，并且存储在服务器上（存在文件中或者数据库里）
3. 给日志管理平台返回离线日志数据。


<!--more-->

为了方便理解，我精简了 badjs 中离线日志的代码，写了一个 [offline-log-server](https://github.com/Leo555/offline-log-server) 出来，用来讲解服务端 api 如何设计。